# Jurisdiction and Compact Onboarding for Compact Connect

Before a jurisdiction (i.e. state) can be onboarded to the Compact Connect system, there is certain information that
must be provided for that jurisdiction. This document is intended to be referenced by State IT staff/CSG maintainers
that will need to assist with onboarding new jurisdictions or compacts into the system. It outlines the information
that is required and how that information is to be defined in the system. The following steps must be taken to onboard
a jurisdiction to the Compact Connect system:

## Inviting users to the system
Compact Administrators can invite state administrators to Compact Connect by creating user accounts for them through the administrative interface. The process works as follows:

1. The Compact Administrator logs into the Compact Connect system and navigates to the User Management section.
2. They create a new user account for the state administrator, specifying their email address, name, and appropriate jurisdiction-level permissions.
3. Upon creation, the system automatically sends an email to the state administrator containing temporary credentials (username and temporary password).
4. The state administrator uses these temporary credentials to log in to Compact Connect for the first time.
5. During the first login, the system prompts the state administrator to set a permanent password.
6. Once logged in, state administrators can access the settings panel (the cog icon) and set the needed configuration as described below.

## Jurisdiction Onboarding Overview

Before a jurisdiction (i.e. state) can be onboarded to the Compact Connect system, the following information must be provided and configured through the Compact Connect UI:

1. Jurisdiction Fee for Compact Privileges
2. Contact Details for System Notifications
3. Jurisprudence Requirements
4. Licensee Registration Settings

These settings are managed by jurisdiction administrators through the Compact Connect administrative interface.

### Jurisdiction Fee for a Compact Privilege

Jurisdiction administrators must set the fee that the jurisdiction will charge for a compact privilege. This is configured in the Jurisdiction Settings section of the Compact Connect UI. This is set per license type offered by the compact.

#### Military Rate Configuration

Jurisdictions may offer a reduced rate for military-affiliated licensees. If enabled, the jurisdiction can specify:
- Military rate amount (a special fixed price for military members)

### Contact Details for System Notifications

Both jurisdiction and compact administrators must provide contact details for system notifications:

1. **Operations Team Notifications**  
   Email addresses for the operations team responsible for handling support notifications.

2. **Adverse Actions Notifications**  
   Email addresses for the team responsible for handling notifications related to adverse actions. Notifications will be sent whenever a license or privilege within the associated jurisdiction has an encumbrance placed on it.

3. **Summary Report Notifications**  
   Email addresses for receiving periodic summary reports generated by the system.

> **Recommendation**: While the system supports multiple email addresses for each notification type, we recommend using distribution lists that users can subscribe to or unsubscribe from without requiring configuration changes.

### Jurisprudence Requirements

Jurisdictions must indicate whether they have jurisprudence requirements for licensees (assessment of knowledge of laws and rules governing practice). Jurisdictions may also provide an optional link to a website where these requirements are defined. This setting is configured through the Jurisdiction Settings interface.

### Licensee Registration Settings

Both compact and jurisdiction administrators can configure whether licensee registration is enabled for their respective entities. Once a compact or jurisdiction has enabled registration for licensees, they cannot disable this setting. 

## Compact Onboarding Overview

Similarly, for compact onboarding, compact administrators must configure:

1. Compact Commission Fee
2. Optional Transaction Fee Configuration
3. Contact Details for System Notifications
4. Attestation Requirements
5. Licensee Registration Settings

### Compact Commission Fee

The Compact Commission Fee is a standardized fee collected for every privilege purchase that goes to the compact organization to support their operations. This fee:

- Is configured as a flat rate amount (e.g., $50)
- Is added to the jurisdiction-specific fee for every privilege purchase
- Is the same regardless of which jurisdiction the provider is purchasing a privilege for

Compact administrators must set this fee through the Compact Settings section of the administrative interface.

### Optional Transaction Fee Configuration

Each compact must decide if they want to charge licensees to absorb payment processor transaction fees:

1. **Licensee Charges** - Compacts can choose to charge licensees a fee to help cover transaction costs. This fee is applied once per privilege purchased.

### Contact Details for System Notifications

Both jurisdiction and compact administrators must provide contact details for system notifications:

1. **Operations Team Notifications**  
   Email addresses for the operations team responsible for handling support notifications.

2. **Adverse Actions Notifications**  
   Email addresses for the team responsible for handling notifications related to adverse actions.

3. **Summary Report Notifications**  
   Email addresses for receiving periodic summary reports generated by the system.

> **Recommendation**: While the system supports multiple email addresses for each notification type, we recommend using distribution lists that users can subscribe to or unsubscribe from without requiring configuration changes.

## Uploading Authorize.net API Keys
Compact administrators can configure their Authorize.net payment processing credentials through the Compact Connect UI. These 
credentials are used to securely process payments for compact privilege applications. For detailed instructions on how to generate 
these keys in your Authorize.net account, please visit the [Authorize.net documentation](https://support.authorize.net/knowledgebase/
Knowledgearticle/?code=000001271). Once these credentials have been generated, the compact admin can set up payment processing for your 
compact using the following steps:

1. Log in to the Compact Connect UI as a compact administrator
2. Navigate to the Compact Settings page (gear icon in the bottom left corner of the side navigation bar)
3. Locate the "Authorize.net Credentials" section
4. Enter the following Authorize.net credentials into the form and press "Submit":
   - API Login ID
   - Transaction Key

If the request is successful, payment processing will be enabled for your compact.

**Important Security Notes:**
- If your credentials are ever compromised, or you suspect they might have been compromised, generate new ones immediately in your Authorize.net account and update them through the Compact Connect UI.

## Access Management

### Creating App Clients for Machine-to-Machine Authentication
See [App Client Management for Staff Users](../../app_clients/README.md) for more information on how to create app clients for machine-to-machine authentication.
